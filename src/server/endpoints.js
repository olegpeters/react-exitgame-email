let emails = [
{
      id: 1,
      labelId: 1,
      from: 'Jens',
      frommail: 'Jens.Maier@dronetec.ag',
      subject: 'Wann wird der Code endlich fertig?',
      text: `
        <br>Hi Marvin,
      ich hatte Dir ja die ganze Zeit schon gesagt dass es dringend ist mit dem Drohnen Code. Weißt Du der Aufsichtsrat sitzt mir eh schon im Nacken, und neuerdings interessiert sich jetzt auch noch das Verteidigungsministerium für unser Projekt. Das, was wir Photo und Toy Bereich geschafft haben an Autonomie wird für gewisse Kreise immer interessanter, also kümmer Dich bitte ASAP um die Steuerungssoftware, das Release ist für November geplant und wir brauchen noch die abschließenden Tests vorab. Bitte sieh zu dass Du den Rest vom Code bis Donnerstag commited kriegst!
      <br><br>Danke Dir, <br>Jens Maier
      <br>Vorstand<br>Dronetec Software AG<br>`,
      time: "18.09.2019 07:28"
    },
 {
    id: 2,
    labelId: 1,
    from: 'Ari Haswari',
    frommail: 'ari.haswari@youcanttrackme.darkweb',
    subject: 'Wir wissen Bescheid',
    text: `MD, Wir wissen über den Code zur Drohnensteuerung und seine Einsatzmöglichkeiten Bescheid. Ist Ihnen klar worauf Sie sich eingelassen haben? Es gibt mehr als nur einen Player der Interesse an dem Code hat.
<br>Wir beobachten Euch.<br>
 Ari`,
    time: "19.09.2019 04:35"
  },  {
    id: 3,
    labelId: 3,
    from: 'Marvin',
    frommail: 'Marvin.Doe@dronetec.ag',
    subject: 'Aw: Wann wird der Code endlich fertig?',
    text: `
    <br>Hi Chef,
    <br>ich weiß ja dass Du es eilig hast aber ich hab solangsam auch ein mulmiges Gefühl bei der Sache... ich meine hallo, wir machen hier Spielzeug!? Und jetzt ist das Verteidigungsministerium mit im Spiel? Ich hab letzt schon das Gefühl gehabt dass mir jemand nachstellt. So langsam wird mir die Sache ein bißchen unheimlich. Klar ist natürlich dass die autonome Steuerung von uns schon ein geniales Stück Code ist. Was man damit alles anstellen könnte - ist natürlich eine Frage der Phantasie...
    <br>Viele Grüße,
    <br>Marvin Doe
    <br>
    <br>=====================================================================
    <br>
    <br><b>Von:</b> Jens.Maier &lt;jens.maier@dronetec.ag&gt;
    <br><b>Gesendet:</b> Mittwoch, 18. September 2019 07:28
    <br><b>An:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
    <br><b>Betreff:</b>Wann wird der Code endlich fertig?

    <br>Hi Marvin,
    ich hatte Dir ja die ganze Zeit schon gesagt dass es dringend ist mit dem Drohnen Code. Weißt Du der Aufsichtsrat sitzt mir eh schon im Nacken, und neuerdings interessiert sich jetzt auch noch das Verteidigungsministerium für unser Projekt. Das, was wir Photo und Toy Bereich geschafft haben an Autonomie wird für gewisse Kreise immer interessanter, also kümmer Dich bitte ASAP um die Steuerungssoftware, das Release ist für November geplant und wir brauchen noch die abschließenden Tests vorab. Bitte sieh zu dass Du den Rest vom Code bis Donnerstag commited kriegst!
    <br><br>Danke Dir, <br>Jens Maier
    <br>Vorstand<br>Dronetec Software AG<br>`,
    time: "20.09.2019 09:12"
  },
  {
      id: 4,
      labelId: 1,
      from: 'Jens',
      frommail: 'Jens.Maier@dronetec.ag',
      subject: 'Re: Aw: Wann wird der Code endlich fertig?',
      text: `
      <br>Hi Marvin,
      <br>mach Dir deswegen mal keine Sorgen. Wir haben den VS im Rücken und den Werkschutz. Falls jemand was von Dir will, richte ihm ruhig aus dass das über unsere Gehaltsklasse geht und wir Schutz von ganz oben haben.
      <br>Hauptsache der Code wird fertig, um alles andere kümmere ich mich!
      <br>Viele Grüße,
      <br>Jens
      <br>
          <br>=====================================================================
          <br>
          <br><b>Von:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
          <br><b>Gesendet:</b> Freitag, 20. September 2019 09:12
          <br><b>An:</b> Jens.Maier &lt;jens.maier@dronetec.ag&gt;
          <br><b>Betreff:</b>Aw: Wann wird der Code endlich fertig?

      <br>
      <br>Hi Chef,
      <br>ich weiß ja dass Du es eilig hast aber ich hab solangsam auch ein mulmiges Gefühl bei der Sache... ich meine hallo, wir machen hier Spielzeug!? Und jetzt ist das Verteidigungsministerium mit im Spiel? Ich hab letzt schon das Gefühl gehabt dass mir jemand nachstellt. So langsam wird mir die Sache ein bißchen unheimlich. Klar ist natürlich dass die autonome Steuerung von uns schon ein geniales Stück Code ist. Was man damit alles anstellen könnte - ist natürlich eine Frage der Phantasie...
      <br>Viele Grüße,
      <br>Marvin Doe
      <br>
      <br>=====================================================================
      <br>
      <br><b>Von:</b> Jens.Maier <jens.maier@dronetec.ag>
      <br><b>Gesendet:</b> Mittwoch, 18. September 2019 07:28
      <br><b>An:</b> Marvin Doe <marvin.doe@securemail.me>
      <br><b>Betreff:</b>Wann wird der Code endlich fertig?

      <br>Hi Marvin,
      ich hatte Dir ja die ganze Zeit schon gesagt dass es dringend ist mit dem Drohnen Code. Weißt Du der Aufsichtsrat sitzt mir eh schon im Nacken, und neuerdings interessiert sich jetzt auch noch das Verteidigungsministerium für unser Projekt. Das, was wir Photo und Toy Bereich geschafft haben an Autonomie wird für gewisse Kreise immer interessanter, also kümmer Dich bitte ASAP um die Steuerungssoftware, das Release ist für November geplant und wir brauchen noch die abschließenden Tests vorab. Bitte sieh zu dass Du den Rest vom Code bis Donnerstag commited kriegst!
      <br><br>Danke Dir, <br>Jens Maier
      <br>Vorstand<br>Dronetec Software AG<br>`,
      time: "24.09.2019 23:28"
    },
   {
    id: 6,
    labelId: 1,
    from: 'Ari Haswari',
    frommail: 'ari.haswari@youcanttrackme.darkweb',
    subject: 'Mach keine Dummheiten',
    text: `
  Hey Marvin,
    <br>Wer wir sind tut nichts zur Sache. Wir wissen Bescheid und wir brauchen das Backup des Codes, das Sie in Ihrem Rollcontainer versteckt halten. Ort und Zeit geben wir noch durch. Wir dulden keine Überraschungen - keine Polizei, verstanden?
<br>Lieber leben, als Regeln befolgen, nicht wahr?<br>
 Ari<br>
 <br>=====================================================================
           <br>
           <br><b>Von:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
           <br><b>Gesendet:</b> Freitag, 27. September 2019 11:06
           <br><b>An:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
           <br><b>Betreff:</b>Aw: Wir wissen Bescheid
       <br>Wer auch immer Sie sind,
       <br>was wollen Sie von mir? Woher kennen Sie mich? Ich programmiere hier nur.
       <br>Viele Grüße,
       <br>Marvin Doe
       <br>
           <br>=====================================================================
           <br>
           <br><b>Von:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
           <br><b>Gesendet:</b> Donnerstag, 19. September 2019 04:35
           <br><b>An:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
           <br><b>Betreff:</b>Wir wissen Bescheid
           <br>MD, Wir wissen über den Code zur Drohnensteuerung und seine Einsatzmöglichkeiten Bescheid. Ist Ihnen klar worauf Sie sich eingelassen haben? Es gibt mehr als nur einen Player der Interesse an dem Code hat.
           <br>Wir beobachten Euch.<br>
            Ari`,


    time: "01.10.2019 02:58"
  },

  {
    id: 7,
    labelId: 3,
    from: 'Marvin',
    frommail: 'marvin.doe@securemail.me',
    subject: 'Aw: Mach keine Dummheiten',
        text: `
            Hören Sie auf mich zu kontaktieren. Ich gebe keinen Code raus. Der Standort des Backups nützt Ihnen gar nichts, es ist unmöglich Zugriff auf die Daten zu erlangen.<br>
            Der Rollcontainer ist durch ein mehrstufiges Sicherheitssystem geschützt. Der Container lässt sich nicht öffnen ohne mein Black Kryptex mit 26^6 Kombinationen. Das Passwort für das Kryptex kriegen Sie nie raus, da bräuchten Sie Jahre.<br>
            Sie haben ja keine Ahnung was Sie da lostreten. Unsere Operation ist von ganz oben gedeckt.
            <br>Marvin
            <br>
  <br>=====================================================================
             <br>
             <br><b>Von:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
             <br><b>Gesendet:</b> Freitag, 27. September 2019 11:06
             <br><b>An:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
             <br><b>Betreff:</b>Aw: Wir wissen Bescheid
         <br>Wer auch immer Sie sind,
         <br>was wollen Sie von mir? Woher kennen Sie mich? Ich programmiere hier nur.
         <br>Viele Grüße,
         <br>Marvin Doe
         <br>
             <br>=====================================================================
             <br>
             <br><b>Von:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
             <br><b>Gesendet:</b> Donnerstag, 19. September 2019 04:35
             <br><b>An:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
             <br><b>Betreff:</b>Wir wissen Bescheid
             <br>MD, Wir wissen über den Code zur Drohnensteuerung und seine Einsatzmöglichkeiten Bescheid. Ist Ihnen klar worauf Sie sich eingelassen haben? Es gibt mehr als nur einen Player der Interesse an dem Code hat.
             <br>Wir beobachten Euch.<br>
              Ari


     `,
        time: "10.10.2019 04:51"
      },


    {
      id: 9,
      labelId: 1,
      from: 'Ari Haswari',
      frommail: 'ari.haswari@youcanttrackme.darkweb',
      subject: 'Letzte Warnung',
      text: `MD, es gibt nur eine Möglichkeit Ihren Hals aus der Schlinge zu ziehen. Treffpunkt ist heute Nacht um 02:00 am Industriehafen in Karlsruhe und wir machen ein Angebot das Sie nicht ablehnen können. Ich warne Sie. Kommen Sie oder es wird böse enden.
  <br>Es geht um alles.<br>
   Ari
    <br>=====================================================================
              <br>
              <br><b>Von:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
              <br><b>Gesendet:</b> Montag, 07. Oktober 2019 14:38
              <br><b>An:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
              <br><b>Betreff:</b>Aw:Mach keine Dummheiten
          <br>Hören Sie auf mich zu kontaktieren. Ich gebe keinen Code raus. Der Standort des Backups nützt Ihnen gar nichts, es ist unmöglich Zugriff auf die Daten zu erlangen.<br>
          Der Rollcontainer ist durch ein mehrstufiges Sicherheitssystem geschützt. Der Container lässt sich nicht öffnen ohne mein Black Kryptex mit 26^6 Kombinationen. Das Passwort für das Kryptex kriegen Sie nie raus, da bräuchten Sie Jahre.<br>
          Sie haben ja keine Ahnung was Sie da lostreten. Unsere Operation ist von ganz oben gedeckt.
          <br>Marvin
          <br>
             <br>=====================================================================
             <br>
             <br><b>Von:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
             <br><b>Gesendet:</b> Dienstag, 01. Oktober 2019 02:58
             <br><b>An:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
             <br><b>Betreff:</b>Mach keine Dummheiten
             <br>Hey Marvin,
                 <br>Wer wir sind tut nichts zur Sache. Wir wissen Bescheid und wir brauchen das Backup des Codes, das Sie in Ihrem Rollcontainer versteckt halten. Ort und Zeit geben wir noch durch. Wir dulden keine Überraschungen - keine Polizei, verstanden?
             <br>Lieber leben, als Regeln befolgen, nicht wahr?<br>
              Ari<br>
<br>=====================================================================
           <br>
           <br><b>Von:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
           <br><b>Gesendet:</b> Freitag, 27. September 2019 11:06
           <br><b>An:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
           <br><b>Betreff:</b>Aw: Wir wissen Bescheid
       <br>Wer auch immer Sie sind,
       <br>was wollen Sie von mir? Woher kennen Sie mich? Ich programmiere hier nur.
       <br>Viele Grüße,
       <br>Marvin Doe
       <br>
           <br>=====================================================================
           <br>
           <br><b>Von:</b> Ari Haswari&lt;ari.haswari@youcanttrackme.darkweb&gt;
           <br><b>Gesendet:</b> Donnerstag, 19. September 2019 04:35
           <br><b>An:</b> Marvin Doe &lt;marvin.doe@securemail.me&gt;
           <br><b>Betreff:</b>Wir wissen Bescheid
           <br>MD, Wir wissen über den Code zur Drohnensteuerung und seine Einsatzmöglichkeiten Bescheid. Ist Ihnen klar worauf Sie sich eingelassen haben? Es gibt mehr als nur einen Player der Interesse an dem Code hat.
           <br>Wir beobachten Euch.<br>
            Ari


   `,
      time: "10.10.2019 04:51"
    },
  {
    id: 10,
    labelId: 2,
    from: 'Marvin',
    frommail: 'marvin.doe@dronetec.ag',
    subject: 'Aw: Re: Aw: Wann wird der Code endlich fertig?',
    text: `
    Hi Chef,<br>
    ich hab kein gutes Gefühl bei der Sache. Ich wurde von einem gewissen Ari Haswari kontaktiert, klingt arabisch, ist der Mossad auch in die Sache involviert?
    Ich glaube nicht, dass es in der aktuellen Situation gut wäre,

    `,
    time: "14:05"
  },
  {
    id: 16,
    labelId: 1,
    from: 'Marvin',
    frommail: 'marvin.doe@securemail.me',
    subject: 'HILFE',
    text: `sie haben mich!! <br><video width="860" height="500" controls><source src="/Kofferraum.mp4" type="video/mp4">Your browser does not support the video tag. </video></h3>
   `,
    hasAttachment: true,
    time: "14:05"
  }
];
let secretToken = "thisIsAVerySecureTokenGeneratedByABrainAfterEatingSomeSaltedFries";
let restoreData = {
  email: "marvin.doe@securemail.me",
  birthdate: "25.03.1993",
  pet: "Mario",
  city: "Paris",
};

exports.findMails = function (req, res, next) {
  if (req.query.token === secretToken) {
    res.send(emails);
  } else {
    res.status(400).send("Current token does not match");
  }
};

exports.forgotPassword = function (req, res, next) {
  var email = req.body.email;
  var birthdate = req.body.birthdate;
  var pet = req.body.pet;
  var city = req.body.city;
  if (email && email.toLowerCase() === restoreData.email.toLowerCase() &&
    birthdate && birthdate.toLowerCase() === restoreData.birthdate.toLowerCase() &&
    pet && pet.toLowerCase() === restoreData.pet.toLowerCase() &&
    city && city.toLowerCase() === restoreData.city.toLowerCase()) {
    res.send(secretToken);
  } else {
    res.status(400).send("Invalid password reset data");
  }
};